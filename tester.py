#!/usr/bin/python3

import requests
import argparse
from os.path import exists

arg_parser = argparse.ArgumentParser(prog='tester.py', allow_abbrev=False)
arg_parser.add_argument('-t',required=True, type=str, help="The target hostname or ip address", metavar='')
arg_parser.add_argument('-w', type=str, help="Wordlist", metavar='')
args = arg_parser.parse_args()

b1='\033[1;34;48m'
r1='\033[1;34;31m'
g1='\033[1;34;32m'
e1=''

print('{}{}{}'.format(b1,'Starting...','\033[0m'))

if exists(args.w):
  f = open(args.w,'r')
  lines = f.readlines()
  for l in lines:
    url="{}{}".format(args.t, l)
    res = requests.get(url)

    try:
      if res.content.decode('utf-8').index('Password'):
        print('{}Testing: {}{}'.format(b1, l. e1), end='\r')
      else:
        print('[+] Password founded: {}{}\033[0m'.format(g1, l))
    except:
      pass
else:
  print ("File not founded: {}".format(args.w))

print('{}{}{}'.format(r1,'Finished.','\033[0m'))

#print(res.content.decode('utf-8').index('Password'))
#print(res.content.decode('utf-8'))